
# Notifications

<details>
  <summary> <h2> üå± Junior </h2> </summary>

<details>
  <summary> –ß—Ç–æ —Ç–∞–∫–æ–µ notification –≤ Android? </summary>

–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ (notification) ‚Äî —ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ Android –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –≤–Ω–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –ï–≥–æ —Ü–µ–ª—å ‚Äî –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∫—Ä–∞—Ç–∫—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–æ–±—ã—Ç–∏—è—Ö (—Å–æ–æ–±—â–µ–Ω–∏—è—Ö, –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è—Ö –∏ —Ç.–¥.) –∏ –±—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é.

</details>

<details>
  <summary> –ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å notification? </summary>

 –î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–ª–∞—Å—Å NotificationCompat.Builder (–¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏) –∏ NotificationManager.

1. C–æ–∑–¥–∞–µ–º –∫–∞–Ω–∞–ª –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
```
if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.O) {
    val channel = NotificationChannel(
        "channel_id",
        "Channel Name",
        NotificationManager.IMPORTANCE_DEFAULT
    ).apply {
        description = "Channel Description"
    }
    val notificationManager: NotificationManager = getSystemService()
    notificationManager.createNotificationChannel(channel)
}
```
2. –°–æ–∑–¥–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
```
val notification = NotificationCompat.Builder(this, "channel_id")
    .setSmallIcon(R.drawable.ic_notification)
    .setContentTitle("Title")
    .setContentText("Text")
    .setPriority(NotificationCompat.PRIORITY_DEFAULT)
    .build()
```
3. –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
```
notificationManager.notify(notificationId, notification)
```

</details>

</details>

<details> 
  <summary> <h2> üåø Middle </h2> </summary>

  <details>
  <summary> –†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –∏–∑ —á–µ–≥–æ —Å–æ—Å—Ç–æ–∏—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ? –ö–∞–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å? </summary>

–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑:

- **Small icon** (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) ‚Äî –º–∞–ª–µ–Ω—å–∫–∞—è –∏–∫–æ–Ω–∫–∞ –≤ —Å—Ç–∞—Ç—É—Å-–±–∞—Ä–µ.
- **Title & Text** ‚Äî –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∏ –æ—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–∫—Å—Ç.
- **Content Intent** ‚Äî PendingIntent –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ —Ç–∞–ø—É.
- **Channel ID** (API 26+) ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π, –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–∑–≤—É–∫, –≤–∏–±—Ä–∞—Ü–∏—è –∏ —Ç.–¥.).
- **Priority / Importance** ‚Äî –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è (–¥–æ/–ø–æ—Å–ª–µ API 26).
- **Large icon** ‚Äî –±–æ–ª—å—à–∞—è –∏–∫–æ–Ω–∫–∞ —Å–ª–µ–≤–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∞–≤–∞—Ç–∞—Ä).
- **Actions** ‚Äî –∫–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π (–¥–æ 3).
- **Grouping** ‚Äî –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.
- **Badge / Number** ‚Äî —Å—á–µ—Ç—á–∏–∫ –Ω–∞ –∏–∫–æ–Ω–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
- **Auto-cancel** ‚Äî —Å–∫—Ä—ã—Ç—å –ø–æ—Å–ª–µ —Ç–∞–ø–∞.
- **Sound / Vibration / Lights** ‚Äî –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –∫–∞–Ω–∞–ª.
- **Custom layout** ‚Äî —á–µ—Ä–µ–∑ `RemoteViews` (–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é).

–ù–∞—Å—Ç—Ä–æ–π–∫–∞ ‚Äî —á–µ—Ä–µ–∑ `NotificationCompat.Builder`, –∫–∞–Ω–∞–ª—ã ‚Äî —á–µ—Ä–µ–∑ `NotificationChannel`.

  </details>


   <details>
  <summary> –ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å –∫–∞–Ω–∞–ª–æ–≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∏ —É–ø—Ä–∞–≤–ª—è—Ç—å –∏–º–∏? –ö–∞–∫–∏–µ —É—Ä–æ–≤–Ω–∏ –≤–∞–∂–Ω–æ—Å—Ç–∏ –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å? </summary>


**–°–æ–∑–¥–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞:**

```kotlin
val channel = NotificationChannel(
    "channel_id",
    "Channel Name",
    NotificationManager.IMPORTANCE_DEFAULT
).apply {
    description = "Channel description"
    enableVibration(true)
    setSound(soundUri, audioAttributes)
    // –¥—Ä—É–≥–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏: —Å–≤–µ—Ç, –≤–∏–±—Ä–∞—Ü–∏—è, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –Ω–∞ —ç–∫—Ä–∞–Ω–µ –∏ —Ç.–¥.
}

val manager = getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager
manager.createNotificationChannel(channel)
```

**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–Ω–∞–ª–∞–º–∏:**
- –ò–∑–º–µ–Ω–∏—Ç—å –Ω–µ–ª—å–∑—è ‚Äî —Ç–æ–ª—å–∫–æ **–ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å** (—É–¥–∞–ª–∏—Ç—å ‚Üí —Å–æ–∑–¥–∞—Ç—å –∑–∞–Ω–æ–≤–æ), –Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è.
- –£–¥–∞–ª–∏—Ç—å: `manager.deleteNotificationChannel("channel_id")`
- –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫: `manager.notificationChannels`

**–£—Ä–æ–≤–Ω–∏ –≤–∞–∂–Ω–æ—Å—Ç–∏ (IMPORTANCE):**

- `IMPORTANCE_NONE` ‚Äî –Ω–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (—Ç–∏—Ö–æ).
- `IMPORTANCE_MIN` ‚Äî –±–µ–∑ –∑–≤—É–∫–∞, –≤ —Å—Ç–∞—Ç—É—Å-–±–∞—Ä–µ.
- `IMPORTANCE_LOW` ‚Äî –±–µ–∑ –∑–≤—É–∫–∞, –≤ —à—Ç–æ—Ä–∫–µ.
- `IMPORTANCE_DEFAULT` ‚Äî –∑–≤—É–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.
- `IMPORTANCE_HIGH` ‚Äî –∑–≤—É–∫ + –≤—Å–ø–ª—ã–≤–∞—é—â–µ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ (heads-up).
- `IMPORTANCE_MAX` ‚Äî –≤—ã—Å—à–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (—Ä–µ–¥–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è).

> –í–∞–∂–Ω–æ—Å—Ç—å –∑–∞–¥–∞—ë—Ç—Å—è **–ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–∞–Ω–∞–ª–∞** –∏ –≤–ª–∏—è–µ—Ç –Ω–∞ –ø–æ–≤–µ–¥–µ–Ω–∏–µ: –∑–≤—É–∫, –≤–∏–±—Ä–∞—Ü–∏—è, heads-up, –ø–æ–∫–∞–∑ –Ω–∞ —ç–∫—Ä–∞–Ω–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏.

  </details>  
  
</details>


<details> 
  <summary> <h2> üå≥ Senior </h2> </summary>

  <details>
  <summary> –ö–∞–∫ –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≥—Ä—É–ø–ø—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π? </summary>

–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ ‚Äî –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ –æ–¥–Ω–æ —Å–≤—ë—Ä–Ω—É—Ç–æ–µ —Å —Ä–∞—Å–∫—Ä—ã–≤–∞—é—â–∏–º—Å—è —Å–ø–∏—Å–∫–æ–º.

---

**–ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å:**

1. **–ó–∞–¥–∞—Ç—å –≥—Ä—É–ø–ø—É** —á–µ—Ä–µ–∑ `setGroup("group_key")` —É –∫–∞–∂–¥–æ–≥–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è.
2. **–°–æ–∑–¥–∞—Ç—å summary-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ** ‚Äî —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–µ, –∫–æ—Ç–æ—Ä–æ–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ —à—Ç–æ—Ä–∫–µ:

```kotlin
.setGroup("messages_group")
.setGroupSummary(true) // —Ç–æ–ª—å–∫–æ –¥–ª—è summary
```

3. **–î–ª—è Android 7.0+ (API 24+)** ‚Äî —Å–∏—Å—Ç–µ–º–∞ —Å–∞–º–∞ –¥–µ–ª–∞–µ—Ç —Å–≤—ë—Ä—Ç–∫—É, summary –º–æ–∂–Ω–æ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å.
4. **–î–ª—è —Å—Ç–∞—Ä—ã—Ö –≤–µ—Ä—Å–∏–π** ‚Äî summary –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω, –∏–Ω–∞—á–µ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç.

---

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ:**

- –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `InboxStyle`, `MessagingStyle` –¥–ª—è –∫—Ä–∞—Å–∏–≤–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤–Ω—É—Ç—Ä–∏ –≥—Ä—É–ø–ø—ã.
- `setGroupAlertBehavior()` ‚Äî –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç, –∫–∞–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ –≥—Ä—É–ø–ø–µ –∏–∑–¥–∞—é—Ç –∑–≤—É–∫ (—Ç–æ–ª—å–∫–æ summary, –≤—Å–µ, –∏–ª–∏ —Ç–æ–ª—å–∫–æ –Ω–µ-summary).
- –ì—Ä—É–ø–ø—ã —Ä–∞–±–æ—Ç–∞—é—Ç **–≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –æ–¥–Ω–æ–≥–æ –ø–∞–∫–µ—Ç–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**.

---

**–í–∞–∂–Ω–æ:**
- –ù–µ –ø–µ—Ä–µ–≥—Ä—É–∂–∞—Ç—å –≥—Ä—É–ø–ø—É ‚Äî —Å–≤—ã—à–µ 7‚Äì10 —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —Å–∏—Å—Ç–µ–º–∞ –º–æ–∂–µ—Ç –æ–±—Ä–µ–∑–∞—Ç—å.
- Summary-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, ‚Äú5 –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π‚Äù).

–ì–æ—Ç–æ–≤ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É.

  </details>

  <details>
  <summary> –í —á–µ–º –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å push notifications –≤ Foreground –∏ Background. –ö–∞–∫ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å –ø—É—à —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –µ—Å–ª–∏ –æ–Ω–æ –ø—Ä–∏—à–ª–æ –≤ Foreground? </summary>

---

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- **Background / Killed**:  
  –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ, –µ—Å–ª–∏ –≤ payload –µ—Å—Ç—å `notification` (–æ—Ç FCM).  
  ‚Üí **–ù–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª—è** ‚Äî –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–∞–∫ –µ—Å—Ç—å.

- **Foreground**:  
  –ü—Ä–∏—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ `onMessageReceived()`, **—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ù–ï –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** ‚Äî –Ω—É–∂–Ω–æ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ `NotificationManager`.

---

**–ö–∞–∫ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å –ø—É—à –≤ Foreground:**

1. –£–Ω–∞—Å–ª–µ–¥—É–π `FirebaseMessagingService`.
2. –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏ `onMessageReceived(remoteMessage: RemoteMessage)`:

```kotlin
override fun onMessageReceived(remoteMessage: RemoteMessage) {
    if (remoteMessage.notification != null) {
        val title = remoteMessage.notification?.title
        val body = remoteMessage.notification?.body

        val notification = NotificationCompat.Builder(this, "channel_id")
            .setContentTitle(title)
            .setContentText(body)
            .setSmallIcon(R.drawable.ic_notification)
            .setContentIntent(pendingIntent)
            .build()

        val manager = getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager
        manager.notify(notificationId, notification)
    }
}
```

---

**–í–∞–∂–Ω–æ:**

- –ï—Å–ª–∏ —Ö–æ—á–µ—à—å **–µ–¥–∏–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ** ‚Äî –æ—Ç–ø—Ä–∞–≤–ª—è–π **—Ç–æ–ª—å–∫–æ data-–ø—É—à**, –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–π –≤—Ä—É—á–Ω—É—é –≤–µ–∑–¥–µ.
- –î–ª—è –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏ (–∏–∫–æ–Ω–∫–∏, –¥–µ–π—Å—Ç–≤–∏—è, –≥—Ä—É–ø–ø—ã) ‚Äî —Ç–æ–ª—å–∫–æ —Ä—É—á–Ω–æ–π –ø–æ–∫–∞–∑.
- –í Foreground –º–æ–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å Heads-up, –¥–∞–∂–µ –µ—Å–ª–∏ –∫–∞–Ω–∞–ª –Ω–µ High Importance ‚Äî –µ—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ.

---

**Pro —Å–æ–≤–µ—Ç:**  
–ò—Å–ø–æ–ª—å–∑—É–π `RemoteMessage.data` –≤–º–µ—Å—Ç–æ `notification` ‚Äî –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ.


  </details>

  </details>
  
</details>

-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
**–†–∞–Ω–µ–µ**

- [OnSavedState](ONSAVEDSTATE.md)
- 
**–î–∞–ª–µ–µ**
- []()
